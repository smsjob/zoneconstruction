<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Annoncer — ZoneConstruction.ca</title>
  <meta name="description" content="Publiez une offre d’emploi en construction au Québec. Paiement sécurisé via Stripe, publication automatisée.">

  <style>
  :root {
    --line:#eaeaea;
    --brand:#f9a533;
    --brand-2:#ffb84d;
    --text:#161616;
    --muted:#666;
    --bg:#fff;
  }

  * { box-sizing:border-box; }
  body {
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:var(--bg);
    color:var(--text);
  }

  header { border-bottom:1px solid var(--line); background:#fff; }
  nav {
    max-width:1100px; margin:0 auto; padding:14px 20px;
    display:flex; gap:22px;
  }
  nav a { text-decoration:none; color:#111; }
  nav a.active { border-bottom:3px solid #111; }

  .wrap { max-width:900px; margin:0 auto; padding:20px; }
  h1 { margin:8px 0 14px; }

  .notice {
    background:#fff3cd;
    border:1px solid #ffe69c;
    padding:10px;
    border-radius:8px;
    margin:8px 0;
  }

  /* Section styling */
  .section{
    margin:18px 0;
    padding:16px 18px;
    border:1px solid var(--line);
    border-radius:12px;
    background:#fff;
    box-shadow:0 1px 3px rgba(0,0,0,.04);
  }
  .section h2{
    margin:0 0 12px;
    font-size:1.08rem;
    font-weight:700;
    color:var(--text);
    border-bottom:1px solid var(--line);
    padding-bottom:6px;
  }
  .inline-note{
    margin:0 0 8px;
    font-size:.95rem;
    color:#444;
  }

  label { font-weight:700; display:block; margin-bottom:6px; }
  .muted { color:var(--muted); font-size:.9rem; }
  .req::after { content:" *"; color:#b00020; }

  input, textarea, select {
    width:100%;
    padding:10px;
    border:1px solid var(--line);
    border-radius:10px;
    font:inherit;
    background:#fff;
  }
  textarea { min-height:140px; resize:vertical; }
  input:focus, textarea:focus, select:focus {
    outline:none;
    border-color:var(--brand);
    box-shadow:0 0 0 3px rgba(249,165,51,.25);
  }

  .grid { display:grid; gap:16px; }
  .grid-2 { grid-template-columns:repeat(2, minmax(0,1fr)); }

  .btn {
    display:inline-block;
    background:var(--brand);
    color:#111;
    border:none;
    border-radius:999px;
    padding:12px 16px;
    font-weight:700;
    text-decoration:none;
    cursor:pointer;
    transition:.15s background;
  }
  .btn:hover { background:var(--brand-2); }
  .btn[disabled] { opacity:.6; cursor:default; }

  footer {
    border-top:1px solid #ddd;
    margin-top:40px;
    padding:20px;
    text-align:center;
    font-size:0.9rem;
  }

  .hidden { display:none; }

  .apply-options {
    display:flex;
    flex-direction:column;
    gap:10px;
    margin-top:12px;
  }
  .apply-options label {
    display:flex;
    align-items:center;
    gap:10px;
    font-weight:600;
    cursor:pointer;
  }
  .apply-options input[type="checkbox"] {
    width:20px;
    height:20px;
    accent-color:var(--brand);
  }

  @media (max-width:640px) {
    .section { padding:14px; }
  }

    /* Compact sections */
.section{
  margin:12px 0;        /* was 18–20px */
  padding:12px 14px;    /* was 16–18px */
}
.section h2{
  margin:0 0 8px;       /* was 12px */
  font-size:1.05rem;
  padding-bottom:4px;   /* was 6px */
}

/* Comment postuler — inline & compact */
.apply-options{
  display:flex;
  flex-wrap:wrap;
  gap:8px 16px;         /* row gap, column gap */
  align-items:center;
  margin-top:8px;       /* tighter */
}
.apply-options label{
  display:inline-flex;
  align-items:center;
  gap:8px;
  font-weight:600;
  margin:0;             /* remove extra vertical space */
  padding:0;            /* keep tight */
}
.apply-options input[type="checkbox"]{
  width:18px;
  height:18px;
}

/* Small screens: keep it tidy */
@media (max-width:640px){
  .section{ padding:12px; }
}

  </style>
</head>
<body>
  <header>
    <nav>
      <a href="index.html">Accueil</a>
      <a href="emplois.html">Emplois</a>
      <a class="active" href="annoncer.html">Annoncer</a>
      <a href="apropos.html">À propos</a>
    </nav>
  </header>

  <div class="wrap">
    <h1>Publier une offre</h1>
    <p class="notice">Répondez d’abord à la question CCQ. Les autres champs apparaîtront ensuite.</p>

    <div class="card">
      <form id="jobForm" class="grid" novalidate>

        <!-- SECTION: Question CCQ -->
        <div class="section">
          <p class="inline-note">Devenir CCQ : répondez d’abord à la question ci-dessous.</p>
          <label class="req">Carte de compétence CCQ requise ?</label>
          <div style="display:flex;gap:16px;margin-top:6px">
            <label><input type="radio" name="ccq_required" value="OUI" required> Oui</label>
            <label><input type="radio" name="ccq_required" value="NON" required> Non</label>
          </div>
        </div>

        <!-- RESTE DU FORMULAIRE -->
        <div id="afterCcq" class="hidden">

          <!-- SECTION: Catégories CCQ -->
          <div id="ccqBlock" class="section hidden">
            <h2>Catégories CCQ</h2>
            <div class="grid grid-2">
              <div>
                <label class="req" for="metier">Métier / Occupation</label>
                <select id="metier" name="Metier">
                  <option value="" disabled selected>— Sélectionner —</option>
                  <option>Charpentier-menuisier</option>
                  <option>Électricien/Électricienne</option>
                  <option>Plâtrier/Plâtrière</option>
                  <option>Soudeur/Soudeuse</option>
                  <option>Tuyauteur/Tuyauteuse</option>
                </select>
              </div>
              <div>
                <label class="req" for="niveau">Niveau</label>
                <select id="niveau" name="Niveau">
                  <option value="" disabled selected>— Sélectionner —</option>
                  <option>Compagnon</option>
                  <option>Apprenti</option>
                  <option>Occupation</option>
                </select>
              </div>
<div>
  <label class="req" for="secteur">Secteur (plusieurs choix possibles)</label>
  <select id="secteur" name="Secteur" multiple size="4">
    <option>Génie Civil et Voirie</option>
    <option>Industriel</option>
    <option>Institutionnel et Commercial</option>
    <option>Résidentiel</option>
  </select>
  <div class="muted">Astuce : Maintenez <strong>Ctrl</strong> (Windows) ou <strong>⌘</strong> (Mac) pour sélectionner plusieurs options.</div>
</div>

              <div>
                <label class="req" for="region">Région</label>
                <select id="region" name="Region">
                  <option value="" disabled selected>— Sélectionner —</option>
                  <option>Grand Montréal</option>
                  <option>Québec</option>
                  <option>Estrie</option>
                  <option>Outaouais</option>
                  <option>Abitibi-Témiscamingue</option>
                </select>
              </div>
            </div>
          </div>

          <!-- SECTION: Catégorie générale (NON) -->
          <div id="wrapCategorie" class="section hidden">
            <h2>Catégorie générale</h2>
            <label class="req" for="categorie">Catégorie</label>
            <select id="categorie" name="Categorie">
              <option value="" disabled selected>— Sélectionner —</option>
              <option>Administration</option>
              <option>Vente</option>
              <option>Chantier</option>
            </select>
          </div>

          <!-- Titre / Description -->
          <div id="wrapTitle" class="hidden">
            <label class="req" for="titre">Titre du poste</label>
            <input id="titre" name="Job Title" placeholder="Ex: Adjoint administratif, Charpentier-menuisier" />
          </div>

          <div>
            <label class="req" for="description">Description</label>
            <textarea id="description" name="Job Description" required></textarea>
          </div>

          <div class="grid grid-2">
            <div>
              <label class="req" for="horaire">Horaire</label>
              <select id="horaire" name="Employment Type" required>
                <option value="" disabled selected>— Sélectionner —</option>
                <option>Temps-Plein</option>
                <option>Temps-Partiel</option>
                <option>Contractuel</option>
                <option>Travail à distance</option>
              </select>
            </div>
            <div id="wrapSalaire" class="hidden">
              <label for="salaire">Salaire</label>
              <input id="salaire" name="Salary Display" placeholder="ex: 35–40 $/h" />
              <div class="muted">Affiché aussi sur la fiche (Google Jobs).</div>
            </div>
          </div>

          <!-- Localisation -->
          <div class="section">
            <h2>Localisation</h2>
            <div class="grid grid-2">
              <div><label class="req" for="street">Numéro et rue</label><input id="street" name="Street Address" required /></div>
              <div><label class="req" for="city">Ville</label><input id="city" name="City" required /></div>
            </div>
            <div class="grid grid-2">
              <div><label class="req" for="postal">Code postal</label><input id="postal" name="Postal Code" required placeholder="H2X 1Y4" /></div>
              <div><label class="req" for="prov">Province</label><input id="prov" name="addressRegion" required value="QC" /></div>
            </div>
            <div><label class="req" for="country">Pays</label><input id="country" name="Country" required value="Canada" /></div>
          </div>

          <!-- Entreprise -->
          <div class="section">
            <h2>Entreprise et contact</h2>
            <label class="req" for="company">Nom de l'entreprise</label>
            <input id="company" name="Company Name" required />
            <label for="email">Courriel</label>
            <input id="email" type="email" name="email" required placeholder="contact@entreprise.com" />
          </div>

          <!-- Comment postuler -->
          <div class="section">
            <h2>Comment postuler</h2>
            <div class="apply-options">
              <label><input type="checkbox" name="apply_methods" value="Courriel"> Courriel</label>
              <label><input type="checkbox" name="apply_methods" value="En personne"> En personne</label>
              <label><input type="checkbox" name="apply_methods" value="Téléphone/SMS"> Téléphone / SMS</label>
              <label><input type="checkbox" name="apply_methods" value="Site Web"> Site Web</label>
            </div>
            <span class="muted">Vous pouvez choisir plusieurs options.</span>
          </div>

          <input type="hidden" name="allow_geocode" value="1">
          <button class="btn" id="submitBtn" type="submit">Continuer au paiement</button>
        </div><!-- /#afterCcq -->

      </form>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 ZoneConstruction.ca |
      <a href="politique.html">Politique de confidentialité</a> |
      <a href="conditions.html">Conditions d’utilisation</a>
    </p>
  </footer>

  <script>
  const addHidden = el => el.classList.add('hidden');
  const remHidden = el => el.classList.remove('hidden');
  const radiosCcq = document.querySelectorAll('input[name="ccq_required"]');
  const afterCcq = document.getElementById('afterCcq');
  const ccqBlock = document.getElementById('ccqBlock');
  const wrapCategorie = document.getElementById('wrapCategorie');
  const metier = document.getElementById('metier');
  const niveau = document.getElementById('niveau');
  const secteur = document.getElementById('secteur');
  const region = document.getElementById('region');
  const categorie = document.getElementById('categorie');
  const wrapTitle = document.getElementById('wrapTitle');
  const wrapSalaire = document.getElementById('wrapSalaire');
  const titre = document.getElementById('titre');

  function updateCcqUI(){
    const selected = document.querySelector('input[name="ccq_required"]:checked');
    if(!selected){ addHidden(afterCcq); return; }

    remHidden(afterCcq);
    afterCcq.scrollIntoView({behavior:'smooth', block:'start'});

    const ccqOui = selected.value === 'OUI';
    if(ccqOui){
      remHidden(ccqBlock);
      addHidden(wrapCategorie);
      [metier,niveau,secteur,region].forEach(el=>el?.setAttribute('required','required'));
      categorie?.removeAttribute('required');
      addHidden(wrapTitle); addHidden(wrapSalaire);
      titre?.removeAttribute('required');
    }else{
      remHidden(wrapCategorie);
      addHidden(ccqBlock);
      categorie?.setAttribute('required','required');
      [metier,niveau,secteur,region].forEach(el=>el?.removeAttribute('required'));
      remHidden(wrapTitle); remHidden(wrapSalaire);
      titre?.setAttribute('required','required');
    }
  }
  radiosCcq.forEach(r=>r.addEventListener('change',updateCcqUI));
  document.addEventListener('DOMContentLoaded',updateCcqUI);
  </script>
</body>
</html>



