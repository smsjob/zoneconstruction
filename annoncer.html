<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Annoncer — ZoneConstruction.ca</title>
  <meta name="description" content="Publiez une offre d’emploi en construction au Québec. Paiement sécurisé via Stripe, publication automatisée.">
  <meta http-equiv="Content-Security-Policy"
        content="default-src 'self';
                 img-src 'self' data: https:;
                 script-src 'self' 'unsafe-inline';
                 style-src 'self' 'unsafe-inline' https:;
                 connect-src 'self' https://script.google.com;
                 frame-ancestors 'none';
                 base-uri 'self'">

  <style>
    :root{--line:#eaeaea;--brand:#f9a533;--brand-2:#ffb84d;--text:#161616;--muted:#666;--bg:#fff}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--text)}
    header{border-bottom:1px solid var(--line);background:#fff}
    nav{max-width:1100px;margin:0 auto;padding:14px 20px;display:flex;gap:22px}
    nav a{text-decoration:none;color:#111}
    nav a.active{border-bottom:3px solid #111}
    .wrap{max-width:900px;margin:0 auto;padding:20px}
    h1{margin:8px 0 14px}
    .notice{background:#fff3cd;border:1px solid #ffe69c;padding:10px;border-radius:8px;margin:8px 0}
    .section{margin:24px 0}
    .section h2{margin:0 0 10px;font-size:1.05rem;font-weight:600;padding-bottom:6px;border-bottom:1px solid var(--line)}
    .card{border:1px solid var(--line);border-radius:14px;padding:18px;background:#fff;margin:12px 0;box-shadow:0 1px 0 rgba(0,0,0,.02),0 8px 24px rgba(0,0,0,.03)}
    label{font-weight:700;display:block;margin-bottom:6px}
    .muted{color:var(--muted);font-size:.9rem}
    .req::after{content:" *";color:#b00020}
    input,textarea,select{width:100%;padding:10px;border:1px solid var(--line);border-radius:10px;font:inherit;background:#fff}
    textarea{min-height:140px;resize:vertical}
    input:focus,textarea:focus,select:focus{outline:none;border-color:var(--brand);box-shadow:0 0 0 3px rgba(249,165,51,.25)}
    .grid{display:grid;gap:16px}
    .grid-2{grid-template-columns:repeat(2,minmax(0,1fr))}
    .chips{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
    .chip{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line);border-radius:999px;padding:8px 12px;background:#fff;cursor:pointer}
    .btn{display:inline-block;background:var(--brand);color:#111;border:none;border-radius:999px;padding:12px 16px;font-weight:700;text-decoration:none;cursor:pointer;transition:.15s background}
    .btn:hover{background:var(--brand-2)}
    .btn[disabled]{opacity:.6;cursor:default}
    footer{border-top:1px solid #ddd;margin-top:40px;padding:20px;text-align:center;font-size:0.9rem}
    .logo-preview{display:flex;align-items:center;gap:12px;margin-top:8px}
    .logo-preview img{max-height:48px;border-radius:8px;border:1px solid var(--line)}
    .hidden{display:none}
  </style>
</head>
<body>
  <header>
    <nav>
      <a href="index.html">Accueil</a>
      <a href="emplois.html">Emplois</a>
      <a class="active" href="annoncer.html">Annoncer</a>
      <a href="apropos.html">À propos</a>
    </nav>
  </header>

  <div class="wrap">
    <h1>Publier une offre</h1>
    <p class="notice">Choisissez la catégorie et répondez à la question CCQ. Les champs pertinents apparaîtront selon votre choix.</p>

    <div class="card">
      <form id="jobForm" class="grid" novalidate>
        <!-- SECTION: Catégorie générale + CCQ -->
        <div class="section">
          <h2>Catégorie et carte CCQ</h2>
          <div class="grid grid-2">
            <div id="wrapCategorie">
              <label class="req" for="categorie">Catégorie</label>
              <select id="categorie" name="Categorie" required>
                <option value="" disabled selected>— Sélectionner —</option>
                <option>Administration</option>
                <option>Vente</option>
                <option>Chantier</option>
              </select>
            </div>
            <div>
              <label class="req">Carte de compétence CCQ requise ?</label>
              <div style="display:flex;gap:16px;margin-top:6px">
                <label><input type="radio" name="ccq_required" value="OUI"> Oui</label>
                <label><input type="radio" name="ccq_required" value="NON"> Non</label>
              </div>
            </div>
          </div>

          <!-- CCQ Fields -->
          <div id="wrapMetier" class="section hidden">
            <label class="req" for="metier">Métier / Occupation</label>
            <select id="metier" name="Metier">
              <option value="" disabled selected>— Sélectionner —</option>
              <option>Charpentier-menuisier/Charpentière-menuisière</option>
              <option>Électricien/Électricienne</option>
              <option>Plâtrier/Plâtrière</option>
              <option>Soudeur/Soudeuse</option>
              <option>Tuyauteur/Tuyauteuse</option>
            </select>
          </div>

          <div id="wrapNiveau" class="section hidden">
            <label class="req" for="niveau">Niveau</label>
            <select id="niveau" name="Niveau">
              <option value="" disabled selected>— Sélectionner —</option>
              <option>Compagnon</option>
              <option>Apprenti</option>
              <option>Occupation</option>
            </select>
          </div>

          <div id="wrapSecteur" class="section hidden">
            <label class="req" for="secteur">Secteur</label>
            <select id="secteur" name="Secteur">
              <option value="" disabled selected>— Sélectionner —</option>
              <option>Génie Civil et Voirie</option>
              <option>Industriel</option>
              <option>Institutionnel et Commercial</option>
              <option>Résidentiel</option>
            </select>
          </div>

          <div id="wrapRegion" class="section hidden">
            <label class="req" for="region">Région</label>
            <select id="region" name="Region">
              <option value="" disabled selected>— Sélectionner —</option>
              <option>Grand Montréal</option>
              <option>Québec</option>
              <option>Outaouais</option>
              <option>Abitibi-Témiscamingue</option>
              <option>Bas-Saint-Laurent–Gaspésie</option>
            </select>
          </div>
        </div>

        <!-- SECTION: Détails du poste -->
        <div class="section">
          <h2>Détails du poste</h2>
          <div id="wrapTitle" class="hidden">
            <label class="req" for="titre">Titre du poste</label>
            <input id="titre" name="Job Title" placeholder="Ex: Adjoint administratif, Charpentier-menuisier" />
          </div>

          <div>
            <label class="req" for="description">Description</label>
            <textarea id="description" name="Job Description" required></textarea>
          </div>

          <div class="grid grid-2">
            <div>
              <label class="req" for="horaire">Horaire</label>
              <select id="horaire" name="Employment Type" required>
                <option value="" disabled selected>— Sélectionner —</option>
                <option>Temps-Plein</option>
                <option>Temps-Partiel</option>
                <option>Contractuel</option>
                <option>Travail à distance</option>
              </select>
            </div>
            <div id="wrapSalaire" class="hidden">
              <label for="salaire">Salaire</label>
              <input id="salaire" name="Salary Display" placeholder="ex: 35$ /h" />
            </div>
          </div>
        </div>

        <!-- SECTION: Localisation -->
        <div class="section">
          <h2>Localisation</h2>
          <div class="grid grid-2">
            <div><label class="req" for="street">Adresse</label><input id="street" name="Street Address" required /></div>
            <div><label class="req" for="city">Ville</label><input id="city" name="City" required /></div>
          </div>
          <div class="grid grid-2">
            <div><label class="req" for="postal">Code postal</label><input id="postal" name="Postal Code" required /></div>
            <div><label class="req" for="prov">Province</label><input id="prov" name="addressRegion" required value="QC" /></div>
          </div>
        </div>

        <!-- SECTION: Entreprise & contact -->
        <div class="section">
          <h2>Entreprise et contact</h2>
          <label class="req" for="company">Nom de l'entreprise</label>
          <input id="company" name="Company Name" required />

          <div class="grid grid-2">
            <div><label class="req" for="email">Courriel</label><input id="email" type="email" name="email" required /></div>
            <div><label for="phone">Téléphone</label><input id="phone" name="Phone" /></div>
          </div>
        </div>

        <!-- SECTION: Comment postuler -->
        <div class="section">
          <h2>Comment postuler</h2>
          <div class="chips">
            <label class="chip"><input type="checkbox" name="apply_methods" value="Courriel" /> Courriel</label>
            <label class="chip"><input type="checkbox" name="apply_methods" value="En personne" /> En personne</label>
            <label class="chip"><input type="checkbox" name="apply_methods" value="Téléphone/SMS" /> Téléphone / SMS</label>
            <label class="chip"><input type="checkbox" name="apply_methods" value="Site Web" /> Site Web</label>
          </div>
        </div>

        <button class="btn" id="submitBtn" type="submit">Continuer au paiement</button>
      </form>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 ZoneConstruction.ca |
      <a href="politique.html">Politique de confidentialité</a> |
      <a href="conditions.html">Conditions d’utilisation</a>
    </p>
  </footer>

  <script>
    const addHidden = el => el.classList.add('hidden');
    const remHidden = el => el.classList.remove('hidden');
    const radiosCcq = document.querySelectorAll('input[name="ccq_required"]');
    const wrapCategorie = document.getElementById('wrapCategorie');
    const wrapMetier = document.getElementById('wrapMetier');
    const wrapNiveau = document.getElementById('wrapNiveau');
    const wrapSecteur = document.getElementById('wrapSecteur');
    const wrapRegion = document.getElementById('wrapRegion');
    const wrapTitle = document.getElementById('wrapTitle');
    const wrapSalaire = document.getElementById('wrapSalaire');

    function updateCcqUI(){
      const selected = document.querySelector('input[name="ccq_required"]:checked');
      const ccqOui = selected && selected.value === 'OUI';
      if (ccqOui){
        addHidden(wrapCategorie);
        remHidden(wrapMetier); remHidden(wrapNiveau); remHidden(wrapSecteur); remHidden(wrapRegion);
        addHidden(wrapTitle); addHidden(wrapSalaire);
      } else if (selected && selected.value === 'NON'){
        remHidden(wrapCategorie);
        addHidden(wrapMetier); addHidden(wrapNiveau); addHidden(wrapSecteur); addHidden(wrapRegion);
        remHidden(wrapTitle); remHidden(wrapSalaire);
      }
    }
    radiosCcq.forEach(r => r.addEventListener('change', updateCcqUI));
  </script>
</body>
</html>


